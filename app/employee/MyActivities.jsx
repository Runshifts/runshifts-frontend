"use client"
import { useState } from "react"
import StatisticsCard from "../_components/AppComps/StatisticsCard"
import Timer from "../_assets/svgs/Timer"
import { FaRegEye } from "react-icons/fa"

function MyActivities({ activityData, isLoading }) {
  return (
    <div className="bg-white p-2 md:p-4 flex flex-col gap-[8px]">
      <h4 className="font-semibold text-base leading-[150%] text-[#292D32]">
        My activities
      </h4>
      <div className="grid grid-cols-1 gap-4 md:grid-cols-3">
        <StatisticsCard
          text="Hours worked"
          title={Number(
            activityData?.overtimeHours + activityData?.shiftHours
          ).toLocaleString()}
          icon={<Timer />}
          mainBg="#E5F7DD"
          iconBg="#CBF0BC"
          isLoading={isLoading || activityData === null}
        />
        <StatisticsCard
          text="Amount Earned"
          title={
            <TextWithToggleableView
              text={`£${activityData?.totalEarnings}`}
              color="#2D6316"
            />
          }
          icon={<RequestedSvg />}
          mainBg="#E5F7DD"
          iconBg="#CBF0BC"
          isLoading={isLoading || activityData === null}
        />
        <StatisticsCard
          text="EWA Funds Available"
          title={
            <TextWithToggleableView
              text={`£${activityData?.amountAvailableForEwa}`}
              color="#2D6316"
            />
          }
          icon={<NextSvg />}
          mainBg="#E5F7DD"
          iconBg="#CBF0BC"
          isLoading={isLoading || activityData === null}
        />
      </div>
    </div>
  )
}

export default MyActivities

export function TextWithToggleableView({ text, color, hideByDefault = false }) {
  const [hide, setHide] = useState(hideByDefault)
  return (
    <p className="flex items-center gap-[4px]">
      {hide ? "*******" : text}
      <button style={{ color }} onClick={() => setHide((prev) => !prev)}>
        {hide ? <FaRegEye /> : <EyeSvg />}
      </button>
    </p>
  )
}

function RequestedSvg() {
  return (
    <svg
      width="37"
      height="36"
      viewBox="0 0 37 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M18.3333 22.875C15.6483 22.875 13.4583 20.685 13.4583 18C13.4583 15.315 15.6483 13.125 18.3333 13.125C21.0183 13.125 23.2083 15.315 23.2083 18C23.2083 20.685 21.0183 22.875 18.3333 22.875ZM18.3333 15.375C16.8933 15.375 15.7083 16.56 15.7083 18C15.7083 19.44 16.8933 20.625 18.3333 20.625C19.7733 20.625 20.9583 19.44 20.9583 18C20.9583 16.56 19.7733 15.375 18.3333 15.375Z"
        fill="#2D6316"
      />
      <path
        d="M28.0833 22.875C27.4683 22.875 26.9583 22.365 26.9583 21.75V14.25C26.9583 13.635 27.4683 13.125 28.0833 13.125C28.6983 13.125 29.2083 13.635 29.2083 14.25V21.75C29.2083 22.365 28.6983 22.875 28.0833 22.875Z"
        fill="#2D6316"
      />
      <path
        d="M7.83334 34.125C3.90334 34.125 0.708344 30.93 0.708344 27C0.708344 23.07 3.90334 19.875 7.83334 19.875C11.7633 19.875 14.9583 23.07 14.9583 27C14.9583 30.93 11.7633 34.125 7.83334 34.125ZM7.83334 22.125C5.14834 22.125 2.95834 24.315 2.95834 27C2.95834 29.685 5.14834 31.875 7.83334 31.875C10.5183 31.875 12.7083 29.685 12.7083 27C12.7083 24.315 10.5183 22.125 7.83334 22.125Z"
        fill="#2D6316"
      />
      <path
        d="M6.33318 29.6251C5.95818 29.6251 5.58316 29.4301 5.37316 29.0851C5.05816 28.5601 5.22318 27.8551 5.76318 27.5401L6.90319 26.8502C7.00819 26.7902 7.08318 26.6551 7.08318 26.5351V25.1401C7.08318 24.5251 7.59318 24.0151 8.20818 24.0151C8.82319 24.0151 9.33319 24.5251 9.33319 25.1401V26.5351C9.33319 27.4501 8.83822 28.3201 8.05822 28.7851L6.91821 29.4752C6.73821 29.5802 6.52818 29.6251 6.33318 29.6251Z"
        fill="#2D6316"
      />
      <path
        d="M25.8333 31.125H13.0833C12.4683 31.125 11.9583 30.615 11.9583 30C11.9583 29.385 12.4683 28.875 13.0833 28.875H25.8333C30.1233 28.875 32.2083 26.79 32.2083 22.5V13.5C32.2083 9.21 30.1233 7.125 25.8333 7.125H10.8333C6.54334 7.125 4.45834 9.21 4.45834 13.5V22.8C4.45834 23.415 3.94834 23.925 3.33334 23.925C2.71834 23.925 2.20834 23.415 2.20834 22.8V13.5C2.20834 8.025 5.35834 4.875 10.8333 4.875H25.8333C31.3083 4.875 34.4583 8.025 34.4583 13.5V22.5C34.4583 27.975 31.3083 31.125 25.8333 31.125Z"
        fill="#2D6316"
      />
    </svg>
  )
}

function NextSvg() {
  return (
    <svg
      width="30"
      height="30"
      viewBox="0 0 30 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M17.9966 29.445C16.2266 29.445 13.7216 28.2 11.7416 22.245L10.6616 19.005L7.42163 17.925C1.48163 15.945 0.236633 13.44 0.236633 11.67C0.236633 9.91498 1.48163 7.39498 7.42163 5.39998L20.1566 1.15498C23.3366 0.0899847 25.9916 0.404984 27.6266 2.02498C29.2616 3.64498 29.5766 6.31498 28.5116 9.49498L24.2666 22.23C22.2716 28.2 19.7666 29.445 17.9966 29.445ZM8.12663 7.54498C3.95663 8.93998 2.47163 10.59 2.47163 11.67C2.47163 12.75 3.95663 14.4 8.12663 15.78L11.9066 17.04C12.2366 17.145 12.5066 17.415 12.6116 17.745L13.8716 21.525C15.2516 25.695 16.9166 27.18 17.9966 27.18C19.0766 27.18 20.7266 25.695 22.1216 21.525L26.3666 8.78998C27.1316 6.47998 26.9966 4.58998 26.0216 3.61498C25.0466 2.63998 23.1566 2.51998 20.8616 3.28498L8.12663 7.54498Z"
        fill="#2D6316"
      />
    </svg>
  )
}

function EyeSvg() {
  return (
    <svg
      width="17"
      height="16"
      viewBox="0 0 17 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M7.09624 10.1866C6.96957 10.1866 6.84291 10.1399 6.74291 10.0399C6.19624 9.49328 5.89624 8.76661 5.89624 7.99995C5.89624 6.40661 7.18957 5.11328 8.78291 5.11328C9.54957 5.11328 10.2762 5.41328 10.8229 5.95995C10.9162 6.05328 10.9696 6.17995 10.9696 6.31328C10.9696 6.44661 10.9162 6.57328 10.8229 6.66661L7.44957 10.0399C7.34957 10.1399 7.22291 10.1866 7.09624 10.1866ZM8.78291 6.11328C7.74291 6.11328 6.89624 6.95995 6.89624 7.99995C6.89624 8.33328 6.98291 8.65328 7.14291 8.93328L9.71624 6.35995C9.43624 6.19995 9.11624 6.11328 8.78291 6.11328Z"
        fill="currentColor"
      />
      <path
        d="M4.51619 12.34C4.40285 12.34 4.28285 12.3 4.18952 12.22C3.47619 11.6134 2.83619 10.8667 2.28952 10C1.58285 8.90003 1.58285 7.10669 2.28952 6.00003C3.91619 3.45336 6.28285 1.98669 8.78285 1.98669C10.2495 1.98669 11.6962 2.49336 12.9629 3.44669C13.1829 3.61336 13.2295 3.92669 13.0629 4.14669C12.8962 4.36669 12.5829 4.41336 12.3629 4.24669C11.2695 3.42003 10.0295 2.98669 8.78285 2.98669C6.62952 2.98669 4.56952 4.28003 3.12952 6.54003C2.62952 7.32003 2.62952 8.68003 3.12952 9.46003C3.62952 10.24 4.20285 10.9134 4.83619 11.46C5.04285 11.64 5.06952 11.9534 4.88952 12.1667C4.79619 12.28 4.65619 12.34 4.51619 12.34Z"
        fill="currentColor"
      />
      <path
        d="M8.78292 14.0133C7.89625 14.0133 7.02959 13.8333 6.19625 13.48C5.94292 13.3733 5.82292 13.08 5.92959 12.8266C6.03625 12.5733 6.32959 12.4533 6.58292 12.56C7.28959 12.86 8.02959 13.0133 8.77625 13.0133C10.9296 13.0133 12.9896 11.72 14.4296 9.45996C14.9296 8.67996 14.9296 7.31996 14.4296 6.53996C14.2229 6.21329 13.9963 5.89996 13.7563 5.60662C13.5829 5.39329 13.6163 5.07996 13.8296 4.89996C14.0429 4.72662 14.3563 4.75329 14.5363 4.97329C14.7963 5.29329 15.0496 5.63996 15.2763 5.99996C15.9829 7.09996 15.9829 8.89329 15.2763 9.99996C13.6496 12.5466 11.2829 14.0133 8.78292 14.0133Z"
        fill="currentColor"
      />
      <path
        d="M9.24293 10.8467C9.0096 10.8467 8.79626 10.68 8.7496 10.44C8.69626 10.1667 8.87626 9.90665 9.1496 9.85999C9.88293 9.72665 10.4963 9.11332 10.6296 8.37999C10.6829 8.10665 10.9429 7.93332 11.2163 7.97999C11.4896 8.03332 11.6696 8.29332 11.6163 8.56665C11.4029 9.71999 10.4829 10.6333 9.33626 10.8467C9.30293 10.84 9.27626 10.8467 9.24293 10.8467Z"
        fill="currentColor"
      />
      <path
        d="M2.11625 15.1667C1.98959 15.1667 1.86292 15.12 1.76292 15.02C1.56959 14.8267 1.56959 14.5067 1.76292 14.3134L6.74292 9.33335C6.93625 9.14002 7.25625 9.14002 7.44959 9.33335C7.64292 9.52669 7.64292 9.84669 7.44959 10.04L2.46959 15.02C2.36959 15.12 2.24292 15.1667 2.11625 15.1667Z"
        fill="currentColor"
      />
      <path
        d="M10.4695 6.81329C10.3429 6.81329 10.2162 6.76663 10.1162 6.66663C9.92286 6.47329 9.92286 6.15329 10.1162 5.95996L15.0962 0.979961C15.2895 0.786628 15.6095 0.786628 15.8029 0.979961C15.9962 1.17329 15.9962 1.49329 15.8029 1.68663L10.8229 6.66663C10.7229 6.76663 10.5962 6.81329 10.4695 6.81329Z"
        fill="currentColor"
      />
    </svg>
  )
}
